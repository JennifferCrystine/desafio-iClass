<!DOCTYPE html>
<html lang="en">
<head>
    <title>Desafio IClass</title>

    <!-- Bootstrap core CSS -->
    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}"/>

    <!-- Font-awesome CSS -->
    <link href="/static/fontawesome/css/all.min.css" rel="stylesheet" th:href="@{/fontawesome/css/all.min.css}"/>

    <!-- RPG-awesome CSS https://nagoshiashumari.github.io/Rpg-Awesome/ -->
    <link href="/static/rpgawesome/css/rpg-awesome.min.css" rel="stylesheet" th:href="@{/rpgawesome/css/rpg-awesome.min.css}"/>

</head>
<body>
    <div th:replace="fragments/header :: header"></div>
    <br/>
    <div class="container" style="text-align: center;width: 100%"><h3>Nova aventura</h3></div>
    <hr /><br>

    <div class="container">
        <form action="#"  th:action="@{/adicionaAventura}" th:object="${aventuraPersonagem}" method="post">
            <div class="container"> <!--th:action="@{/adicionaAventura}" th:object="${aventuraPersonagem}" method="post"-->
                <div class="row">
                    <div class="col-lg-12">
                        <h4>Aventura:</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="input-group col-lg-3">
                        <span class="text-danger" th:each="err : ${#fields.errors('personagem')}"
                                          th:utext="${err}"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="input-group col-lg-4">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="personagem">Personagem</label>
                        </div>
                      <select class="custom-select" id="personagem" th:field="*{personagem}">
                            <option value=""></option>
                            <option  th:each="personagem : ${personagens}" th:value="${personagem.id}" th:text="${personagem.nome}"></option>
                        </select>
                    </div>
                </div>
                <br>
                <div class="input-group col-lg-4" align="left">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="xp">Experiência</label>
                    </div>
                    <input type="number" class="form-control"
                           name="xp" th:field="*{xp}"
                           placeholder="Experiência"
                           aria-label="xp"
                           aria-describedby="basic-addon1">
                </div>
                <div class="row">
                    <input type="hidden" class="form-control"
                           name="data" th:field="*{data}"
                           placeholder="Data da aventura"
                           aria-label="Data da aventura"
                           aria-describedby="basic-addon1">
                </div>
                <br/>
            </div>
            <br/>
            <div class="row">
                <div class="col-lg-12">
                    <input class="btn btn-lg btn-primary" type="submit" align="right" value="Criar"/>
                </div>
            </div>
        </form>
    </div>

    <br>
    <!--Listar-->
    <div th:unless="${#lists.isEmpty(aventuraPersonagem)}" class="container-fluid">
        <table id="tableItem" class="table table-bordered table-striped">
            <thead>
            <tr>
                <th class="col-sm-3" data-field="personagem">Personagem</th>
                <th class="col-sm-3" data-field="aventuraPersonagem">Aventura</th>
                <th class="col-sm-3" data-field="xp">Experiência</th>
            </tr>
            </thead>
            <tr th:each="aventura : ${listaAventuras}">
                <td th:text="${aventura.personagem.nome}" width="50%"></td>
                <td th:text="${aventura.aventuraPersonagem}" width="45%"></td>
                <td th:text="${aventura.xp}" width="5%"></td>
            </tr>
        </table>

    </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="/static/bootstrap/js/bootstrap.min.js" th:href="@{/js/bootstrap.js}"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
</body>
</html>